<extend name="Public/_model" />
<block name="body"> 
	
	<form action="" method="post" class="form form-horizontal" id="form-admin-role-add">
		<input type="hidden" name="id" value="{$info.id}">
		<div class="form-group">
			<label class="col-xs-12 col-sm-3 col-md-3 control-label no-padding-right">菜单名称：<span class="text-danger">*</span></label>
			<div class="formControls col-xs-12 col-sm-5">
				<input type="text" class="input-text" value="{$info.name}" placeholder="菜单名称" id="txtName" name="name" required minlength="2">
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-12 col-sm-3 col-md-3 control-label no-padding-right">权重：<span class="text-danger">*</span></label>
			<div class="formControls col-xs-12 col-sm-5">
				<input type="text" value="{$info.weight}" class="input-text" value="99" placeholder="菜单排序权重（值大在前）" id="txtWeight" name="weight" required range="[1,999]">
			</div>
		</div>
		<div class="form-group">
			<label class="col-xs-12 col-sm-3 col-md-3 control-label no-padding-right">父级菜单：</label>
			<div class="formControls col-xs-12 col-sm-5">
				<select class="form-control" id='sltPid' name="pid" >
					<option value="0">顶级菜单</option>
					<volist name='lis' id='item'>
						<option value="{$item.id}">&nbsp;&nbsp;{$item.name}</option>
					</volist>
				</select>
			</div>
		</div>
		<div class="form-group slt_pid_1">
			<label class="col-xs-12 col-sm-3 col-md-3 control-label no-padding-right">菜单权限：<span class="text-danger">*</span></label>
			<div class="formControls col-xs-12 col-sm-5">
				<input type="text" class="input-text" value="{$info.action}" placeholder="菜单权限" id="txtAction" name="action" >
			</div>
		</div>
		<div class="form-group slt_pid_1">
			<label class="col-xs-12 col-sm-3 col-md-3 control-label no-padding-right">菜单连接：<span class="text-danger">*</span></label>
			<div class="formControls col-xs-12 col-sm-5">
				<input type="text" class="input-text" value="{$info.url}" placeholder="菜单连接" id="txtUrl" name="url" >
			</div>
		</div>
		<div class="form-group slt_pid_0 diy_icon">
			<label class="col-xs-12 col-sm-3 col-md-3 control-label no-padding-right">图标Class：</label>
			<div class="formControls col-xs-12 col-sm-5">
				<input type="text" class="input-text" value="{$info.icon_class}" placeholder="图标Class" id="txtIconClass" name="icon_class" >
			</div>
		</div>
		<div class="form-group slt_pid_0 diy_icon">
			<label class="col-xs-12 col-sm-3 col-md-3 control-label no-padding-right">&nbsp;</label>
			<div class="formControls col-xs-12 col-sm-5">
				<p><span class="label label-warning radius">注意：</span>&nbsp;&nbsp;图标使用的是
					<a href='http://fontawesome.io/icons/' target="_blank">fontawesome</a>，<a href='http://getbootstrap.com/components/#glyphicons' target="_blank">glyphicons</a>，请在里面查找。
				</p>
			</div>
		</div>
		
		<div class="clearfix form-actions">
			<div class="col-md-offset-3 col-md-9">
				<button class="btn btn-info" type="submit">
					<i class="ace-icon fa fa-check bigger-110"></i>
					提交
				</button>

				&nbsp; &nbsp; &nbsp;
				<button class="btn" type="reset">
					<i class="ace-icon fa fa-undo bigger-110"></i>
					重置
				</button>
			</div>
		</div>
	</form>
</block>
<block name='js'>
	<script type="text/javascript">
		$(function () {
			//回绑数据
			$('#sltPid').val("{$info.pid}");
			ajaxForm('#form-admin-role-add');
			$('#sltPid').change(function(event) {
				var v=$(this).val();
				$('.slt_pid_0,.slt_pid_1').hide();
				if(v==0){
					$('.slt_pid_0').show();
				}else{
					$('.slt_pid_1').show();
				}
			}).val("{$info.pid}").change();
		});
	</script>
</block>
